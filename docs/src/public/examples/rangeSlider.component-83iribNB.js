import{D as c}from"./docs-LJADo47n.js";class p{constructor(){const s=document.querySelectorAll("input[type=range]");Array.from(s).forEach(t=>{new n(t)}),c.onDynamicContent(document.documentElement,"input[type=range]",t=>{t.forEach(e=>{new n(e)})})}}class n{constructor(s){if(this.toSlider=null,this.syncElement=null,this.slider=s,this.slider.hasAttribute("data-sync")&&(this.syncElement=document.getElementById(this.slider.getAttribute("data-sync")||"")),this.slider.id.indexOf("to")==0){this.toSlider=s,this.slider=document.getElementById(this.toSlider.id.replace("to","from")),this.slider&&(this.setProgress(!0,this.toSlider.value),this.toSlider.addEventListener("input",t=>{const e=parseInt(this.toSlider.getAttribute("step")||"1");parseInt(this.slider.value)>=parseInt(this.toSlider.value)-e&&(this.toSlider.value=parseInt(this.slider.value)+e+""),this.setProgress(!0,this.toSlider.value)}));return}if(this.slider.id.indexOf("from")==0){const t=this.slider.id.replace("from","to");this.toSlider=document.getElementById(t),this.toSlider&&(this.toSlider.style.position="absolute",this.toSlider.style.top=this.slider.offsetTop+"px",this.toSlider.style.left=this.slider.offsetLeft+"px",this.toSlider.style.width=this.slider.offsetWidth+"px",this.toSlider.style.zIndex="1",this.toSlider.style.setProperty("--slider-color","transparent"),this.toSlider.style.setProperty("--slider-progress-color","transparent"))}this.initSafariFallBack(s),this.setProgress(this.toSlider!==null,this.slider.value),this.slider.addEventListener("input",t=>{if(this.toSlider){const e=parseInt(this.toSlider.getAttribute("step")||"1");parseInt(this.slider.value)>=parseInt(this.toSlider.value)-e&&(this.slider.value=parseInt(this.toSlider.value)-e+"")}this.setProgress(this.toSlider!==null,this.slider.value)})}setProgress(s=!1,t=""){if(this.syncElement&&(this.syncElement.tagName.toLowerCase()==="input"?this.syncElement.value=t:this.syncElement.textContent=t),s){const e=parseInt(this.slider.value),i=parseInt(this.toSlider.value),r=e/parseInt(this.slider.max)*100,l=i/parseInt(this.toSlider.max)*100;this.slider.style.backgroundImage=`linear-gradient(to right, var(--slider-color) 0%, var(--slider-color) ${r}%, var(--slider-progress-color) ${r}%, var(--slider-progress-color) ${l}%, var(--slider-color) ${l}%, var(--slider-color) 100%)`}else{const i=parseInt(this.slider.value)/parseInt(this.slider.max)*100;this.slider.style.backgroundImage=`linear-gradient(to right, var(--slider-progress-color) ${i}%, var(--slider-color) ${i}%)`}}initSafariFallBack(s){const t=s;if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){const i=t.getAttribute("list"),r=i?document.getElementById(i):null;if(r){const l=document.createElement("div");l.classList.add(...r.classList),l.classList.add("datalist"),Array.from(r.options).forEach(a=>{const o=document.createElement("span");o.textContent=a.label||a.value,o.classList.add(...a.classList),o.classList.add("option"),l.appendChild(o)}),r.insertAdjacentElement("beforebegin",l)}}}}export{p as default};
