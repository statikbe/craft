const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ckeditor-DOPTydtR.js","_commonjsHelpers-Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import{_ as w}from"./docs-LJADo47n.js";import{F as A}from"./formater-BczQVLTd.js";class v{constructor(){this.init()}async init(){const c=document.querySelectorAll("[data-ck-editor]");if(!c)return;const u=await w(()=>import("./ckeditor-DOPTydtR.js").then(e=>e.c),__vite__mapDeps([0,1]));c.forEach(e=>{let n=["heading","bold","italic","insertImage","link"];if(e.hasAttribute("data-ck-editor-style")&&e.getAttribute("data-ck-editor-style")==="compact"&&(n=["bold","italic","numberedList","bulletedList"]),e.hasAttribute("data-ck-editor-toolbar")){const t=e.getAttribute("data-ck-editor-toolbar");t&&(n=t.split(","))}let o={defaultProtocol:"https://",decorators:{openInNewTab:{mode:"automatic",callback:t=>!0,attributes:{target:"_blank",rel:"noopener noreferrer"}}}};e.hasAttribute("data-ck-editor-link-nofollow")&&(o.decorators.addNofollow={mode:"automatic",callback:t=>!0,attributes:{rel:"nofollow"}}),e.hasAttribute("data-ck-editor-link-open-new-tab")&&e.getAttribute("data-ck-editor-link-open-new-tab")=="false"&&delete o.decorators.openInNewTab,u.default.create(e,{licenseKey:"GPL",toolbar:n,simpleUpload:{uploadUrl:"statik/wiki/upload-image"},link:o,heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]}}).then(t=>{if(t.sourceElement.hasAttribute("data-ck-editor-wordcount")){const d=t.sourceElement.getAttribute("data-ck-editor-wordcount");if(d){const l=document.getElementById(d);if(l){const h=l.getAttribute("data-template"),m=document.getElementById(h||""),p=t.sourceElement.getAttribute("data-ck-editor-limit")||"0",r=parseInt(p,10),s=a=>{const i=a.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim(),k=i?i.split(" ").filter(f=>f.length>0).length:0,b=i.length;l.innerHTML=A.evaluateJSTemplate(m.innerHTML,{words:k,characters:b,limit:r})};let g=t.getData();r>0&&t.model.document.on("change:data",()=>{const a=t.getData();a.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim().length>r?t.setData(g):g=a,t.sourceElement.innerHTML=t.getData(),s(t.getData())}),s(t.getData())}}}})})}}export{v as default};
