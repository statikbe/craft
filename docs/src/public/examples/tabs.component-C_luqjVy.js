import{D as b}from"./docs-LJADo47n.js";class d{constructor(){const t=document.querySelectorAll("ul[data-tabs]");Array.from(t).forEach((a,i)=>{new h(a,i)}),b.onDynamicContent(document.documentElement,"ul[data-tabs]",a=>{Array.from(a).forEach((i,s)=>{new h(i,s)})})}}class h{constructor(t,a){if(this.buttons=new Array,this.panels=new Array,this.updateHash=!1,this.keys={up:38,left:37,right:39,down:40},t.getAttribute("data-tabs")==="true")return;this.tabsEl=t,this.tabsEl.setAttribute("data-tabs","true"),this.updateHash=this.tabsEl.hasAttribute("data-update-hash");const i=this.tabsEl.querySelectorAll("button");Array.from(i).forEach((e,n)=>{const l=e.getAttribute("data-panel");e.setAttribute("id",`tabs${a}-label-${n}`),e.setAttribute("role","tab"),e.setAttribute("aria-setsize",`${i.length}`),e.setAttribute("aria-posinset",`${n+1}`),e.setAttribute("tabindex","-1"),e.setAttribute("aria-controls",l),e.setAttribute("aria-selected","false"),e.addEventListener("click",this.onClick.bind(this)),e.addEventListener("keydown",this.onKeyDown.bind(this)),this.buttons.push(e);const r=document.querySelector(`#${l}`);r.classList.add("hidden"),r.setAttribute("role","tabpanel"),r.setAttribute("aria-labelledby",`tabs${a}-label-${n}`),r.setAttribute("tabindex","-1"),this.panels.push(r);const o=this.tabsEl.getAttribute("data-first-tab");(o&&parseInt(o)===n||!o&&n===0)&&(r.classList.remove("hidden"),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0"),this.activeButton=e)});let s=window.location.hash;if(s){s=s.substr(1,s.length-1);const e=document.querySelector(`button[role=tab][data-panel=${s}]`);e&&this.activateTab(e)}}onClick(t){t.preventDefault();const a=t.target;this.activateTab(a)}activateTab(t){this.buttons.forEach(s=>{s.setAttribute("aria-selected","false"),s.setAttribute("tabindex","-1")}),t.setAttribute("aria-selected","true"),t.setAttribute("tabindex","0"),t.focus(),this.activeButton=t,this.panels.forEach(s=>{s.classList.add("hidden")});const a=t.getAttribute("data-panel");document.querySelector(`#${a}`).classList.remove("hidden"),this.updateHash&&(window.location.hash=a),this.tabsEl.dispatchEvent(new CustomEvent("tabs.change",{detail:{activeTab:this.activeButton}}))}goToPrevTab(){let t=this.buttons.indexOf(this.activeButton);t--,t<0&&(t=this.buttons.length-1),this.activateTab(this.buttons[t])}goToNextTab(){let t=this.buttons.indexOf(this.activeButton);t++,t>=this.buttons.length&&(t=0),this.activateTab(this.buttons[t])}onKeyDown(t){switch(t.keyCode){case this.keys.left:case this.keys.up:t.preventDefault(),this.goToPrevTab();break;case this.keys.right:case this.keys.down:t.preventDefault(),this.goToNextTab();break}}}export{d as default};
