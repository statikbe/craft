class a{constructor(){}static call(o={}){const r={...{url:"",data:null,form:null,method:"GET",xhr:null,success:null,error:null},...o};if(r.xhr&&r.xhr.abort(),r.xhr=new XMLHttpRequest,r.xhr.open(r.method,r.url,!0),r.xhr.onload=function(){if(this.status>=200&&this.status<400){if(r.success&&typeof r.success=="function"){let t=this.response;try{t=JSON.parse(t)}catch{}r.success(t)}}else console.error("Something went wrong when fetching data"),r.error&&typeof r.error=="function"&&r.error(this.status)},r.xhr.onerror=function(){console.error("There was a connection error"),r.error&&typeof r.error=="function"&&r.error()},r.data||r.form){let t=new FormData;if(r.form&&(t=new FormData(r.form)),r.data)for(let e in r.data)t.append(e,r.data[e]);r.xhr.send(t)}else r.xhr.send();return r.xhr}}export{a as A};
