import{A as c}from"./array.prototypes-Bj-0q804.js";c.activateFrom();class m{constructor(e){this.triggerSelector="",this.options={},this.cssClasses={confirmationContent:"modal__confirmation-content p-6 [&_h1]:text-xl",confirmationActions:"modal__confirmation-actions mt-4 flex justify-between gap-10 pb-6 px-6",confirmationCancel:"modal__confirmation__cancel-btn btn btn--ghost",confirmationOk:"modal__confirmation__ok-btn btn btn--primary"},this.triggerSelector=e}getPluginName(){return"confirmation"}getTriggerSelector(){return this.triggerSelector}getOptions(){return this.options}openModalClick(e){this.modalComponent=e;const t=this.modalComponent.trigger;if(t){Object.keys(this.modalComponent.trigger.dataset).forEach(o=>{this.cssClasses[o]&&(this.cssClasses[o]=this.modalComponent.trigger.dataset[o])});const i=t.getAttribute("data-question");if(i){const o=t.getAttribute("data-cancel")??"Cancel",s=t.getAttribute("data-ok")??"Ok";this.openPluginModal({question:i,cancel:o,ok:s,callback:()=>{t.tagName==="A"&&(window.location.href=t.href)}})}}this.modalComponent.options.question&&this.openPluginModal({question:this.modalComponent.options.question,cancel:this.modalComponent.options.cancel,ok:this.modalComponent.options.ok,callback:this.modalComponent.options.callback})}gotoNextAction(){}gotoPrevAction(){}closeModal(){}openPluginModal({question:e,cancel:t,ok:l,callback:i}){if(!this.modalComponent.dialog){this.modalComponent.dialog=document.createElement("dialog"),document.body.appendChild(this.modalComponent.dialog),this.modalComponent.onDialogCreation();const o=document.createElement("div");o.classList.add(...this.cssClasses.confirmationContent.split(" "));const s=document.createElement("h1");s.innerText=e,o.insertAdjacentElement("beforeend",s);const a=document.createElement("div");if(a.classList.add(...this.cssClasses.confirmationActions.split(" ")),t){const n=document.createElement("button");n.classList.add(...this.cssClasses.confirmationCancel.split(" ")),n.innerText=t,n.addEventListener("click",()=>{this.modalComponent.dialog.close()}),a.insertAdjacentElement("beforeend",n)}if(l){const n=document.createElement("button");n.classList.add(...this.cssClasses.confirmationOk.split(" ")),n.innerText=l,n.addEventListener("click",()=>{this.modalComponent.dialog.close(),i()}),a.insertAdjacentElement("beforeend",n)}this.modalComponent.dialog.insertAdjacentElement("beforeend",o),this.modalComponent.dialog.insertAdjacentElement("beforeend",a)}this.modalComponent.dialog.showModal()}}export{m as ConfirmationModalPlugin};
