import{F as a}from"./formater-BczQVLTd.js";import{D as r}from"./docs-LJADo47n.js";class l{constructor(e){this.validationComponent=e}initElement(){const e=document.querySelectorAll("input[type=checkbox]");Array.from(e).forEach(t=>{(t.hasAttribute("min")||t.hasAttribute("max"))&&this.initCheckboxGroup(t)}),r.onDynamicContent(document.documentElement,"input[type=checkbox]",t=>{t.forEach(i=>{(i.hasAttribute("min")||i.hasAttribute("max"))&&this.initCheckboxGroup(i)})})}initCheckboxGroup(e){e.addEventListener("change",this.validateCheckboxGroup.bind(this)),e.addEventListener("check-validation",this.validateCheckboxGroup.bind(this)),e.addEventListener("invalid",t=>{t.preventDefault(),this.validationComponent.checkValidation(t)})}validateCheckboxGroup(e){const t=e.target,n=Array.from(t.closest("form").querySelectorAll(`input[name='${t.name}']`)).filter(o=>o.checked).length;t.hasAttribute("min")&&t.hasAttribute("max")&&parseInt(t.getAttribute("min"))>n&&parseInt(t.getAttribute("max"))<n?t.setCustomValidity(a.sprintf(this.validationComponent.lang.range,{min:t.getAttribute("min"),max:t.getAttribute("max")})):t.hasAttribute("min")&&parseInt(t.getAttribute("min"))>n?t.setCustomValidity(a.sprintf(this.validationComponent.lang.minGroup,{min:t.getAttribute("min")})):t.hasAttribute("max")&&parseInt(t.getAttribute("max"))<n?t.setCustomValidity(a.sprintf(this.validationComponent.lang.maxGroup,{max:t.getAttribute("max")})):t.setCustomValidity(""),t.reportValidity(),this.validationComponent.checkValidation(e)}}export{l as CheckboxRangePlugin};
