import{D as l}from"./docs-LJADo47n.js";class g{constructor(t=null){this.googleApiKey="AIzaSyCEjq6aeTaQe626svSDfn8WQ4InLVt9cJw",t&&(this.googleApiKey=t),typeof google>"u"||!google.hasOwnProperty("maps")?l.loadScript("https://maps.googleapis.com/maps/api/js?v=3.exp&key="+this.googleApiKey,this.initGoogleMaps):this.initGoogleMaps()}initGoogleMaps(){Array.from(document.querySelectorAll("[data-google-maps]")).forEach(t=>{new p(t)})}}class p{constructor(t){this.mapData=[],this.markers=[],this.locations=[],this.customOptions={};const o=this,e={zoom:9,scrollwheel:!1};this.mapData=[];try{this.locations=JSON.parse(t.getAttribute("data-locations")),this.customOptions=JSON.parse(t.getAttribute("data-options"))}catch{}var a=new MutationObserver(function(s){s.forEach(function(i){i.type==="attributes"&&i.attributeName==="data-locations"&&(o.locations=JSON.parse(i.target.getAttribute("data-locations")),o.addMarkers())})});a.observe(t,{attributes:!0}),this.map=new google.maps.Map(t,{...e,...this.customOptions,styles:[]}),this.addMarkers();let n=null;window.addEventListener("resize",()=>{clearTimeout(n),n=setTimeout(()=>{this.mapData.forEach(s=>{s.markers.length>1&&s.instance.fitBounds(s.bounds),s.instance.setCenter(s.bounds.getCenter())})},250)})}addMarkers(){const t=new google.maps.InfoWindow,o=new google.maps.LatLngBounds;this.markers.forEach(e=>{e.setMap(null)}),this.markers=[],this.mapData=[],this.locations.forEach(e=>{const a=new google.maps.Marker({map:this.map,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)}});e.info&&google.maps.event.addListener(a,"click",function(){t.setContent(`
            <h2 class="text-lg text-primary">${e.info}</h2>
          `),t.open(this.map,a)}),o.extend(a.getPosition()),this.markers.push(a)}),this.mapData.push({instance:this.map,bounds:o,markers:this.markers}),this.markers.length>1&&this.map.fitBounds(o),this.map.setCenter(o.getCenter())}}export{g as default};
