import{D as c}from"./docs-LJADo47n.js";class u{constructor(){const t=document.querySelector("[data-search-trigger]");t&&this.initSearch(t),c.onDynamicContent(document.documentElement,"[data-search-trigger]",e=>{e.forEach(d=>{this.initSearch(d)})})}initSearch(t){let e=t.closest("form");if(t.getAttribute("data-search-trigger").length>0&&(e=document.getElementById(t.getAttribute("data-search-trigger"))),t&&e){const d=e.querySelector("input[type=search]");let i=null;t.getAttribute("data-search-hide").length>0&&(i=document.getElementById(t.getAttribute("data-search-hide")));const r=e.querySelector("[data-search-close]"),a=!!t.hasAttribute("data-search-animated");t.setAttribute("tabindex","0"),t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),t.addEventListener("click",s=>{s.preventDefault(),i&&i.classList.add(a?"search-hide":"hidden"),a?e.classList.add("search-show"):e.classList.remove("hidden"),t.setAttribute("aria-expanded","true"),d.focus()}),r&&r.addEventListener("click",s=>{s.preventDefault(),i&&i.classList.remove(a?"search-hide":"hidden"),a?e.classList.remove("search-show"):e.classList.add("hidden"),t.setAttribute("aria-expanded","false"),t.focus()}),d.addEventListener("keyup",s=>{t.getAttribute("aria-expanded")=="true"&&s.key==="Escape"&&(i&&i.classList.remove(a?"search-hide":"hidden"),a?e.classList.remove("search-show"):e.classList.add("hidden"),t.setAttribute("aria-expanded","false"),t.focus())})}}}export{u as default};
