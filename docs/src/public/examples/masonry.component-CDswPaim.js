var W=Object.defineProperty;var B=(e,t,r)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var l=(e,t,r)=>B(e,typeof t!="symbol"?t+"":t,r);import{c as y,g as F}from"./_commonjsHelpers-Cpj98o6Y.js";function U(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var j=U,V=typeof y=="object"&&y&&y.Object===Object&&y,D=V,X=D,q=typeof self=="object"&&self&&self.Object===Object&&self,H=X||q||Function("return this")(),P=H,J=P,K=function(){return J.Date.now()},Q=K,Y=/\s/;function Z(e){for(var t=e.length;t--&&Y.test(e.charAt(t)););return t}var ee=Z,te=ee,re=/^\s+/;function ne(e){return e&&e.slice(0,te(e)+1).replace(re,"")}var ie=ne,oe=P,ae=oe.Symbol,M=ae,_=M,A=Object.prototype,se=A.hasOwnProperty,ce=A.toString,b=_?_.toStringTag:void 0;function de(e){var t=se.call(e,b),r=e[b];try{e[b]=void 0;var i=!0}catch{}var n=ce.call(e);return i&&(t?e[b]=r:delete e[b]),n}var le=de,fe=Object.prototype,ue=fe.toString;function me(e){return ue.call(e)}var ge=me,C=M,be=le,ve=ge,pe="[object Null]",ye="[object Undefined]",w=C?C.toStringTag:void 0;function he(e){return e==null?e===void 0?ye:pe:w&&w in Object(e)?be(e):ve(e)}var Te=he;function Oe(e){return e!=null&&typeof e=="object"}var Se=Oe,je=Te,$e=Se,xe="[object Symbol]";function Ee(e){return typeof e=="symbol"||$e(e)&&je(e)==xe}var _e=Ee,Ce=ie,I=j,we=_e,N=NaN,Ie=/^[-+]0x[0-9a-f]+$/i,Ne=/^0b[01]+$/i,Re=/^0o[0-7]+$/i,Pe=parseInt;function Me(e){if(typeof e=="number")return e;if(we(e))return N;if(I(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=I(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ce(e);var r=Ne.test(e);return r||Re.test(e)?Pe(e.slice(2),r?2:8):Ie.test(e)?N:+e}var Ae=Me,ke=j,S=Q,R=Ae,ze="Expected a function",Ge=Math.max,Le=Math.min;function We(e,t,r){var i,n,s,c,a,d,f=0,v=!1,m=!1,h=!0;if(typeof e!="function")throw new TypeError(ze);t=R(t)||0,ke(r)&&(v=!!r.leading,m="maxWait"in r,s=m?Ge(R(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function T(o){var u=i,g=n;return i=n=void 0,f=o,c=e.apply(g,u),c}function k(o){return f=o,a=setTimeout(p,t),v?T(o):c}function z(o){var u=o-d,g=o-f,E=t-u;return m?Le(E,s-g):E}function $(o){var u=o-d,g=o-f;return d===void 0||u>=t||u<0||m&&g>=s}function p(){var o=S();if($(o))return x(o);a=setTimeout(p,z(o))}function x(o){return a=void 0,h&&i?T(o):(i=n=void 0,c)}function G(){a!==void 0&&clearTimeout(a),f=0,i=d=n=a=void 0}function L(){return a===void 0?c:x(S())}function O(){var o=S(),u=$(o);if(i=arguments,n=this,d=o,u){if(a===void 0)return k(d);if(m)return clearTimeout(a),a=setTimeout(p,t),T(d)}return a===void 0&&(a=setTimeout(p,t)),c}return O.cancel=G,O.flush=L,O}var Be=We,Fe=Be,Ue=j,Ve="Expected a function";function De(e,t,r){var i=!0,n=!0;if(typeof e!="function")throw new TypeError(Ve);return Ue(r)&&(i="leading"in r?!!r.leading:i,n="trailing"in r?!!r.trailing:n),Fe(e,t,{leading:i,maxWait:t,trailing:n})}var Xe=De;const qe=F(Xe);class He{constructor(t){l(this,"grid");l(this,"mutationObserver");l(this,"resizeObserver");l(this,"create",()=>{this.mutationObserver.observe(this.grid,{childList:!0}),Array.from(this.grid.children).forEach(t=>{this.resizeObserver.observe(t)})});l(this,"onContainerMutation",t=>{const r=t.flatMap(n=>Array.from(n.removedNodes)),i=t.flatMap(n=>Array.from(n.addedNodes));for(const n of r)n instanceof Element&&this.resizeObserver.unobserve(n);for(const n of i)n instanceof Element&&this.resizeObserver.observe(n);r.length>0&&i.length===0&&this.update()});l(this,"onChildrenResize",t=>{t.filter(i=>i.target.parentElement!==null).length>0&&this.update()});l(this,"update",qe(()=>{const t=window.getComputedStyle(this.grid);if(t.getPropertyValue("display").includes("grid")===!1){this.clean();return}const r=Je(this.grid);if(r.length<=1){this.clean();return}const i=parseFloat(t.getPropertyValue("row-gap").trim())||0,n=Array.from(this.grid.children);for(let s=0;s<r.length;s++){const c=n[s];c==null||c.style.removeProperty("margin-top")}for(let s=0;s<n.length;s++){const c=n[s-r.length],a=n[s];if(c!==void 0&&a!==void 0){const d=c.getBoundingClientRect().bottom;a.style.removeProperty("margin-top");const f=a.getBoundingClientRect().top;if(f-i!==d){const v=Math.round((d-(f-i)+Number.EPSILON)*100)/100;a.style.setProperty("margin-top",`${v}px`)}}}},32));l(this,"destroy",()=>{this.resizeObserver.disconnect(),this.mutationObserver.disconnect(),this.clean()});l(this,"clean",()=>{Array.from(this.grid.children).forEach(t=>{t.style.removeProperty("margin-top")})});this.grid=t,this.mutationObserver=new MutationObserver(this.onContainerMutation),this.resizeObserver=new ResizeObserver(this.onChildrenResize),CSS.supports("grid-template-rows","masonry")===!1&&this.create()}[Symbol.dispose](){this.destroy()}}function Je(e){return window.getComputedStyle(e).getPropertyValue("grid-template-columns").trim().split(/\s+(?=(?:[^()]*\([^()]*\))*[^()]*$)/)}class Ye{constructor(){document.querySelectorAll(".masonry").forEach(r=>{new He(r)})}}export{Ye as default};
