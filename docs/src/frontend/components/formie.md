# Formie

A lightweight integration component for [Verbb Formie](https://verbb.io/craft-plugins/formie/features) forms that enhances select elements with custom styling containers and converts multi-select elements into searchable autocomplete dropdowns.

## Features

- ✅ **Automatic Detection** - Activates on any `.fui-form` element (Formie's form class)
- ✅ **Select Styling Container** - Adds `.fui-select-container` wrapper for custom select styling
- ✅ **Multi-Select Enhancement** - Converts multi-select to Autocomplete component
- ✅ **Zero Configuration** - Works automatically on page load
- ✅ **Formie Integration** - Seamless integration with Formie's CSS classes
- ✅ **Progressive Enhancement** - Enhances native form controls

## Example

```html
<!-- Formie generates this markup -->
<form class="fui-form">
  <!-- Single Select -->
  <div class="fui-input-container">
    <select class="fui-select" name="country">
      <option value="">Choose country</option>
      <option value="BE">Belgium</option>
      <option value="NL">Netherlands</option>
      <option value="DE">Germany</option>
    </select>
  </div>

  <!-- Multi Select -->
  <div class="fui-input-container">
    <select class="fui-select" name="interests[]" multiple>
      <option value="tech">Technology</option>
      <option value="design">Design</option>
      <option value="marketing">Marketing</option>
    </select>
  </div>
</form>
```

## How It Works

### Single Select Enhancement

**Before:**

```html
<div class="fui-input-container">
  <select class="fui-select" name="country">
    <!-- options -->
  </select>
</div>
```

**After:**

```html
<div class="fui-input-container fui-select-container">
  <select class="fui-select" name="country">
    <!-- options -->
  </select>
</div>
```

**Purpose:**

- `.fui-select-container` enables custom select styling
- Allows CSS to add custom dropdown arrow
- Maintains Formie's existing class structure

### Multi-Select Enhancement

**Before:**

```html
<div class="fui-input-container">
  <select class="fui-select" name="interests[]" multiple>
    <option value="tech">Technology</option>
    <option value="design">Design</option>
  </select>
</div>
```

**After (via setTimeout):**

```html
<div class="fui-input-container">
  <select class="fui-select" name="interests[]" multiple data-autocomplete>
    <option value="tech">Technology</option>
    <option value="design">Design</option>
  </select>
</div>
```

## Formie Integration

### Required Formie Classes

The component relies on Formie's default CSS classes:

| Class                  | Element         | Purpose                                            |
| ---------------------- | --------------- | -------------------------------------------------- |
| `.fui-form`            | `<form>`        | Identifies Formie forms (triggers component)       |
| `.fui-select`          | `<select>`      | Formie's select styling class                      |
| `.fui-input-container` | Wrapper `<div>` | Formie's input wrapper (receives additional class) |

**These classes are automatically generated by Formie** - no manual addition needed.

### Added Classes

The component adds these classes:

| Class                   | Added To               | Purpose                                |
| ----------------------- | ---------------------- | -------------------------------------- |
| `.fui-select-container` | `.fui-input-container` | Enables custom select styling with CSS |

### Formie Configuration

No specific Formie configuration required. The component works with default Formie settings.

## Multi-Select as Autocomplete

Multi-select elements become Autocomplete components.

See [Autocomplete Component](./autocomplete.md) for full details.

## Related Components

- **[Autocomplete Component](./autocomplete.md)** - Multi-select conversion target
- **[Formie Plugin](https://verbb.io/craft-plugins/formie)** - Source form builder
